--- sys/src/cmd/venti/srv/fixarenas.c	Tue Sep 18 02:49:22 2007
+++ sys/src/cmd/venti/srv/fixarenas.c	Tue Sep 18 02:49:21 2007
@@ -796,7 +798,7 @@
 		ap.arenabase = bestdiff;
 	}
 
-	ap.tabbase = (PartBlank+HeadSize+ap.blocksize-1) & ~(ap.blocksize-1);
+	ap.tabbase = ROUNDUP(PartBlank+HeadSize, ap.blocksize);
 	/*
 	 * XXX pick up table, check arenabase.
 	 * XXX pick up table, record base name.
@@ -808,8 +810,7 @@
 	 */
 	if(ap.arenabase == 0){
 		for(i=0; i<nelem(tabsizes); i++){
-			ap.arenabase = (PartBlank + HeadSize + tabsizes[i] + 
-				ap.blocksize - 1) & ~(ap.blocksize - 1);
+			ap.arenabase = ROUNDUP(PartBlank+HeadSize, ap.blocksize);
 			p = pagein(ap.arenabase, Block);
 			if(u32(p) == ArenaHeadMagic)
 				break;
