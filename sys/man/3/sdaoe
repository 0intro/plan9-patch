.TH SDAOE 3
.SH NAME
sdaoe \- AoE-to-storage device interface quirks
.SH SYNOPSIS
.nf
.B bind #S /dev
.B "echo config switch on spec" \fIl\fP type aoe/aoe/\fI/n.m\fP > /dev/sdctl

.BI /dev/sd l 0/ctl
.BI /dev/sd l 0/raw
.BI /dev/sd l 0/data
\&...
.fi
.SH DESCRIPTION
.PP
The AoE-to-storage device interface has a few quirks due to the fact that
network-attached storage can't be enumerated like direct-attached storage.
The default first letter for AoE devices is
.LR e .
Each
.B sdaoe
device must be configured explicitly. To configure target
.B 42.0
on 
.BR sde0 :
.IP
.EX
echo config switch on spec e type aoe/aoe/42.0 > /dev/sdctl
.EE
.PP
To turn this device off,
.IP
.EX
echo config switch off spec e > /dev/sdctl
.EE
.PP
To boot from an AoE root, the
.B sd
device must be configured on boot.  To accomplish this,
one must either PXE boot or boot from direct-attached
storage and add two configuration lines to
.IR plan9.ini (8).
For example, to boot using target
.B 42.0
as
.B sde0
as root over Ethernet interfaces 0 and 1,
.IP
.EX
etherif=ether0 ether1
aoedev=e!#Ã¦/aoe/42.0
.EE
.PP
.SH SOURCE
.B /sys/src/9/port/sdaoe.c
.SH SEE ALSO
.IR 9load (8),
.IR cec (1),
.IR snoopy (8),
.IR sd (3),
.IR aoe (3),
.IR vblade (1).
.SH BUGS
It is not currently possible to boot from an AoE target without an
external bootstrap like PXE.
.PP
Devsd is currently limited to LBA32, or 2TB per device.
